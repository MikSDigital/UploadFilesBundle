{% extends 'form_div_layout.html.twig' %}

{#STYLE BLOCKS#}
    {% block style_default %}
        <link rel="stylesheet" type="text/css" media="screen" href="{{ asset('bundles/sopinetuploadfiles/css/dropzone.css') }}" />
    {% endblock %}
    {% block style_icon %}
        <link rel="stylesheet" type="text/css" media="screen" href="{{ asset('bundles/sopinetuploadfiles/css/dropzone.css') }}" />
        <link rel="stylesheet" type="text/css" media="screen" href="{{ asset('bundles/sopinetuploadfiles/css/iconic.css') }}" />
    {% endblock %}
{# TYPE BLOCKS#}
    {% block icon %}
        <i {{ block('widget_container_attributes') }}>
            {%- if form.parent is empty -%}
                {{ form_errors(form) }}
            {%- endif -%}
            {{- block('form_rows') -}}
            {{- form_rest(form) -}}
        </i>
    {% endblock %}

    {% block modal %}
        <!-- Trigger the modal with a button -->
        {% block modal_buton %}
            <button type="button" class="{{ btnClass }}" data-toggle="modal" data-target="#{{ id }}_modal">{{ btnText }}</button>
        {% endblock %}
        <!-- Modal -->
        <div id="{{ id }}_modal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <!-- Modal content-->
                <div class="modal-content">
                    {% block modal_header %}
                    {% endblock %}
                    {% block modal_body %}
                        <div class="modal-body">
                            <div {{ block('widget_container_attributes') }}>
                                {%- if form.parent is empty -%}
                                    {{ form_errors(form) }}
                                {%- endif -%}
                                {{- block('form_rows') -}}
                                {{- form_rest(form) -}}
                            </div>
                        </div>
                    {% endblock %}

                    {% block modal_footer %}
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary" data-dismiss="modal">{{ "sopinet_upload.modal.btn_accept"|trans }}</button>
                        </div>
                    {% endblock %}
                </div>
            </div>
        </div>
    {% endblock %}




{# WIDGET COMPOSITION#}
    {% block dropzone_file_gallery_widget %}
        {% spaceless %}
            {{ block(style_type) }}
            {% include '@SopinetUploadFiles/Form/_common.html.twig' %}
            {{ block(type) }}
        {% endspaceless %}
    {% endblock %}